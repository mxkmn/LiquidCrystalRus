# LiquidCrystalRus с фиксом write()

Это форк стандартной библиотеки LiquidCrystal последней версии (1.0.7) с поддержкой русского языка. От библиотеки mk90 тут только позаимствованная идея показа русских символов.

Форк создан с целью решить проблему невозможности отображения многих символов, начиная с позиции '0x80'. Для отображения таких символов используйте функцию 'writeRaw()' вместо 'write()'.

Вообще, я бы хотел решить проблему через вложение дополнительных файлов 'Print.h' и 'Print.cpp' рядом со стандартной 'LiquidCrystal.h', но знаний не хватило - так и не получилось сделать правильный override или вроде того. Однако стоит заметить, что модифицируя стандартный 'Print.cpp' из папки Hardware\Cores можно легко добиться идеальной работы функции 'write()' без лишних 'writeRaw()', совершенно не меняя LiquidCrystal(Rus).h и LiquidCrystal(Rus).cpp. Дело трёх минут, но модифицировать стандартные библиотеки плохо, поэтому имеем на данный момент костыль с 'writeRaw()'.
Для модификации 'Print.cpp' нужно добавить 'utf_hi_char', 'utf_recode' из 'LiquidCrystalRus.cpp' и изменить 'size_t Print::write(const uint8_t *buffer, size_t size)' примерно так же, как изменена 'write()' по сравнению с 'writeRaw()' из 'LiquidCrystalRus.cpp'.
Если кто-то сделает форк с реализацией через кастомные 'Print.h' и 'Print.cpp' без модификации стандартных 'LiquidCrystal.h' и 'LiquidCrystal.cpp' - напишите на email из шапки профиля, буду рад закинуть сюда ссылку на форк и юзать вашу реализацию :).